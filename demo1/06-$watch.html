<!DOCTYPE html>
<html lang="zh-hans" ng-app="demo">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
    <title>$scope.$watch</title>
    <link href="../libs/bootstrap/dist/css/bootstrap.css" rel="stylesheet">
</head>
<body ng-controller="one">

<div class="well">
    <input type="text" ng-model="num">
    {{num}}
</div>

<div class="well">
    <input type="text" ng-model="jdata.name"> {{jdata.name}} <br>
    <input type="text" ng-model="jdata.age"> {{jdata.age}} <br>
    <input type="text" ng-model="jdata.city"> {{jdata.city}} <br>
</div>

<script src="../libs/angular/angular.js"></script>
<script>
    (function($){

        $.module("demo",[])
                .controller("one",function($scope){
                    $scope.num = 1;

                    //数据
                    $scope.jdata = {
                        "name":"bj",
                        "age":20,
                        "city":"china"
                    }

                    //$watch 单个数据的监控
                    $scope.$watch("num",function(n,o){
                        console.log("new data-",n)
                        console.log("old data-",o)
                    });

                    //true 对一组数据进行比较
                    $scope.$watch("jdata",function(n,o){
                        console.log("new data-",n)
                        console.log("old data-",o)
                    },true);
                })
    })(angular)
</script>
</body>
</html>